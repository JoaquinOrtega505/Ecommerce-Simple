<div class="container mt-4">
  <h2 class="mb-4">Mis Pedidos</h2>

  <div class="text-center my-5" *ngIf="loading">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Cargando...</span>
    </div>
  </div>

  <div *ngIf="!loading && pedidos.length === 0" class="text-center my-5">
    <i class="bi bi-box-seam" style="font-size: 4rem; color: #ccc;"></i>
    <h3 class="mt-3">No tienes pedidos aún</h3>
    <p class="text-muted">Realiza tu primera compra</p>
    <a routerLink="/productos" class="btn btn-primary mt-3">Ver Productos</a>
  </div>

  <div class="row" *ngIf="!loading && pedidos.length > 0">
    <div class="col-12">
      <div class="card mb-3" *ngFor="let pedido of pedidos">
        <div class="card-body">
          <div class="row align-items-center">
            <div class="col-md-2">
              <h6 class="mb-1">Pedido #{{ pedido.id }}</h6>
              <small class="text-muted">{{ pedido.fechaCreacion | date:'dd/MM/yyyy HH:mm' }}</small>
            </div>
            <div class="col-md-3">
              <small class="text-muted d-block">Dirección de envío:</small>
              <span>{{ pedido.direccionEnvio }}</span>
              <div *ngIf="pedido.numeroSeguimiento" class="mt-1">
                <small class="text-muted d-block">Seguimiento:</small>
                <span class="badge bg-info">{{ pedido.numeroSeguimiento }}</span>
              </div>
            </div>
            <div class="col-md-2 text-center">
              <span class="badge" [ngClass]="getEstadoClass(pedido.estado)">
                {{ pedido.estado }}
              </span>
            </div>
            <div class="col-md-2 text-center">
              <h5 class="mb-0 text-primary">${{ pedido.total | number:'1.2-2' }}</h5>
            </div>
            <div class="col-md-3 text-end">
              <a [routerLink]="['/pedidos', pedido.id]" class="btn btn-sm btn-outline-primary">
                <i class="bi bi-eye"></i> Ver Detalle
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
